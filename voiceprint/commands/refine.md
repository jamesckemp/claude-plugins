---
description: Refine an existing writer skill
argument-hint: "<path to writer skill directory>"
---

# /refine

Refine an existing writer skill by analyzing additional writing samples and updating the voice profile.

## Mode Requirement

This command requires execute mode. If plan mode is currently active, exit plan mode before proceeding. Use the ExitPlanMode tool, then continue with the command.

## Pre-flight: Version Check

Before loading the refine skill, verify the target writer skill is on the current format:

1. **Read the target skill** — Read `$ARGUMENTS/SKILL.md`. If the file doesn't exist, tell the user:
   > I couldn't find a writer skill at that path. I need `SKILL.md` in the directory. Check the path and try again.
   Then stop — do not load the refine skill.

2. **Read the version changelog** — Read `!`echo ${CLAUDE_PLUGIN_ROOT}`/skills/voiceprint/references/version-changelog.md`.

3. **Follow the Version Detection decision tree** in the changelog to determine the format status, then consult the **Quick Decision Table**:

   - **Current** → Proceed to Workflow below.
   - **Outdated** or **Old format** → Stop. Tell the user:
     > This writer skill uses an older voiceprint format. Run `/voiceprint update $ARGUMENTS` first to migrate to the latest format, then come back here to refine.
     Do not load the refine skill.
   - **Unknown** → Warn the user:
     > This writer skill has an unrecognized structure. It may not have been generated by Voiceprint.
     Use `AskUserQuestion` to ask: "Want to proceed anyway?" with options "Yes, try it" and "No, cancel". Only proceed to Workflow if they confirm.

## Workflow

Load skill `voiceprint:refine` using the Skill tool.

The target writer skill directory is:

**`$ARGUMENTS`**

Do NOT search, glob, or attempt to locate the writer skill automatically — the path above has already been validated. Pass it directly as the target directory containing `SKILL.md`.
